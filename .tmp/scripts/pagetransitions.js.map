{"version":3,"sources":["../../app/scripts/pagetransitions.js"],"names":[],"mappings":";;AAAA,IAAI,eAAe,GAAG,CAAC,YAAW;;AAEjC,KAAI,UAAU,GAAG,CAAC,CAAC,YAAY,CAAC;KAC/B,MAAM,GAAG,UAAU,CAAC,QAAQ,CAAE,iBAAiB,CAAE;KACjD,KAAK,GAAG,CAAC,CAAC,iBAAiB,CAAC;KAC5B,UAAU,GAAG,CAAC,CAAC,sBAAsB,CAAC;KACtC,QAAQ,GAAG,CAAC,CAAC,6BAA6B,CAAC;KAC3C,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC;KAClB,UAAU,GAAG,MAAM,CAAC,MAAM;KAC1B,OAAO,GAAG,CAAC;KACX,WAAW,GAAG,CAAC;KACf,WAAW,GAAG,KAAK;KACnB,WAAW,GAAG,KAAK;KACnB,WAAW,GAAG,KAAK;KACnB,iBAAiB,GAAG;AACnB,mBAAiB,EAAG,oBAAoB;AACxC,cAAY,EAAG,eAAe;AAC9B,eAAa,EAAG,gBAAgB;AAChC,aAAW,EAAG,cAAc;EAC5B;;;AAED,iBAAgB,GAAG,iBAAiB,CAAE,SAAS,CAAC,QAAQ,CAAE,WAAW,CAAE,CAAE;;;AAEzE,QAAO,GAAG,SAAS,CAAC,aAAa,CAAC;;AAEnC,UAAS,IAAI,GAAG;AACf,QAAM,CAAC,IAAI,CAAE,YAAW;AACvB,OAAI,KAAK,GAAG,CAAC,CAAE,IAAI,CAAE,CAAC;AACtB,QAAK,CAAC,IAAI,CAAE,mBAAmB,EAAE,KAAK,CAAC,IAAI,CAAE,OAAO,CAAE,CAAE,CAAC;GACzD,CAAC,CAAC;AACH,QAAM,CAAC,EAAE,CAAE,OAAO,CAAE,CAAC,QAAQ,CAAE,iBAAiB,CAAE,CAAC;;AAEnD,YAAU,CAAC,EAAE,CAAC,OAAO,EAAC,YAAW;AAChC,UAAO,CAAC,GAAG,CAAC,QAAQ,GAAC,WAAW,CAAC,CAAC;AAClC,OAAI,WAAW,EAAG;AACjB,WAAO,KAAK,CAAC;IACb;AACD,cAAW,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;;AAElC,OAAI,WAAW,IAAE,OAAO,EAAE;AACzB,WAAO,KAAK,CAAC;IACb,CAAC;AACF,OAAI,WAAW,GAAC,OAAO,EAAE;AACxB,YAAQ,CAAC,CAAC,CAAC,CAAC;IACZ,MAAI;AACJ,YAAQ,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC;GACF,CAAC,CAAA;;AAEF,OAAK,CAAC,EAAE,CAAC,OAAO,EAAE,YAAW;AAC5B,OAAG,OAAO,IAAE,CAAC,EAAC;AACb,WAAO,KAAK,CAAC;IACb;AACD,OAAI,WAAW,EAAG;AACjB,WAAO,KAAK,CAAC;IACb;AACD,WAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AACd,QAAK,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;GACnC,CAAC,CAAC;AACH,UAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,YAAW;AAC/B,OAAG,OAAO,GAAC,CAAC,IAAI,OAAO,GAAC,CAAC,EAAC;AACzB,WAAO,KAAK,CAAC;IACb;AACD,OAAI,WAAW,EAAG;AACjB,WAAO,KAAK,CAAC;IACb;AACD,WAAQ,CAAC,CAAC,CAAC,CAAC;AACZ,QAAK,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;GAChC,CAAC,CAAC;EAEH;;AAED,UAAS,QAAQ,CAAC,OAAO,EAAC,IAAI,EAAE;AAC/B,MAAI,SAAS,GAAG,AAAC,OAAO,CAAC,SAAS,GAAI,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC;AAClE,MAAI,WAAW,EAAG;AACjB,UAAO,KAAK,CAAC;GACb;AACD,aAAW,GAAG,IAAI,CAAC;;AAEnB,MAAI,SAAS,GAAG,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;;AAEnC,MAAI,IAAI,IAAE,CAAC,EAAE;AACZ,UAAO,GAAG,CAAC,CAAC;GACZ,MAAI;AACJ,OAAG,WAAW,IAAE,CAAC,EAAC;AACjB,MAAE,OAAO,CAAC;IACV,MAAI;AACJ,WAAO,GAAC,WAAW,CAAC;IACpB;GACD,CAAC;;AAEF,MAAI,SAAS,GAAG,MAAM,CAAC,EAAE,CAAE,OAAO,CAAE,CAAC,QAAQ,CAAE,iBAAiB,CAAE;MACjE,QAAQ,GAAG,EAAE;MAAE,OAAO,GAAG,EAAE,CAAC;AAC7B,UAAQ,SAAS;AAChB,QAAK,CAAC;AACL,YAAQ,GAAG,mBAAmB,CAAC;AAC/B,WAAO,GAAG,wBAAwB,CAAC;AACnC,UAAM;AAAA,AACP,QAAK,CAAC;AACL,YAAQ,GAAG,sBAAsB,CAAC;AAClC,WAAO,GAAG,qBAAqB,CAAC;AAChC,UAAM;AAAA,GACP;AACD,WAAS,CAAC,QAAQ,CAAE,QAAQ,CAAE,CAAC,EAAE,CAAE,gBAAgB,EAAE,YAAW;AAC/D,YAAS,CAAC,GAAG,CAAE,gBAAgB,CAAE,CAAC;AAClC,cAAW,GAAG,IAAI,CAAC;AACnB,OAAI,WAAW,EAAG;AACjB,kBAAc,CAAE,SAAS,EAAE,SAAS,CAAE,CAAC;IACvC;GACD,CAAE,CAAC;;AAEJ,WAAS,CAAC,QAAQ,CAAE,OAAO,CAAE,CAAC,EAAE,CAAE,gBAAgB,EAAE,YAAW;AAC9D,YAAS,CAAC,GAAG,CAAE,gBAAgB,CAAE,CAAC;AAClC,cAAW,GAAG,IAAI,CAAC;AACnB,OAAI,WAAW,EAAG;AACjB,kBAAc,CAAE,SAAS,EAAE,SAAS,CAAE,CAAC;IACvC;GACD,CAAE,CAAC;;AAEJ,MAAI,CAAC,OAAO,EAAG;AACd,iBAAc,CAAE,SAAS,EAAE,SAAS,CAAE,CAAC;GACvC;EAED;;AAED,UAAS,cAAc,CAAE,QAAQ,EAAE,OAAO,EAAG;AAC5C,aAAW,GAAG,KAAK,CAAC;AACpB,aAAW,GAAG,KAAK,CAAC;AACpB,WAAS,CAAE,QAAQ,EAAE,OAAO,CAAE,CAAC;AAC/B,aAAW,GAAG,KAAK,CAAC;EACpB;;AAED,UAAS,SAAS,CAAE,QAAQ,EAAE,OAAO,EAAG;AACvC,UAAQ,CAAC,IAAI,CAAE,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAE,mBAAmB,CAAE,CAAE,CAAC;AAC/D,SAAO,CAAC,IAAI,CAAE,OAAO,EAAE,OAAO,CAAC,IAAI,CAAE,mBAAmB,CAAE,GAAG,kBAAkB,CAAE,CAAC;EAClF;;AAED,KAAI,EAAE,CAAC;;AAEP,QAAO;AACN,MAAI,EAAG,IAAI;AACX,UAAQ,EAAG,QAAQ;EACnB,CAAC;CAEF,CAAA,EAAG,CAAC","file":"pagetransitions.js","sourcesContent":["var PageTransitions = (function() {\n\n\tvar $container = $('#container'),\n\t\t$pages = $container.children( 'article.pg-page' ),\n\t\t$menu = $(\"#cat-list-items\"),\n\t\t$menuItems = $('#cat-list-items > li'),\n\t\t$comprar = $('#icon-comprar, #btn-comprar'),\n\t\t$home = $('#home'),\n\t\tpagesCount = $pages.length,\n\t\tcurrent = 0,\n\t\tcurrentMenu = 0,\n\t\tisAnimating = false,\n\t\tendCurrPage = false,\n\t\tendNextPage = false,\n\t\tanimEndEventNames = {\n\t\t\t'WebkitAnimation' : 'webkitAnimationEnd',\n\t\t\t'OAnimation' : 'oAnimationEnd',\n\t\t\t'msAnimation' : 'MSAnimationEnd',\n\t\t\t'animation' : 'animationend'\n\t\t},\n\t\t// animation end event name\n\t\tanimEndEventName = animEndEventNames[ Modernizr.prefixed( 'animation' ) ],\n\t\t// support css animations\n\t\tsupport = Modernizr.cssanimations;\n\t\n\tfunction init() {\n\t\t$pages.each( function() {\n\t\t\tvar $page = $( this );\n\t\t\t$page.data( 'originalClassList', $page.attr( 'class' ) );\n\t\t});\n\t\t$pages.eq( current ).addClass( 'pg-page-current' );\n\t\t\n\t\t$menuItems.on(\"click\",function() {\n\t\t\tconsole.log(\"menu: \"+isAnimating);\n\t\t\tif( isAnimating ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcurrentMenu = $(this).index() + 1;\n\n\t\t\tif (currentMenu==current) {\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tif (currentMenu<current) {\n\t\t\t\tnextPage(2);\n\t\t\t}else{\n\t\t\t\tnextPage(1);\n\t\t\t};\n\t\t})\n\n\t\t$home.on('click', function() {\n\t\t\tif(current==0){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif( isAnimating ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tnextPage(2,1);\n\t\t\t$menu.removeClass(\"cat-list-show\");\n\t\t});\n\t\t$comprar.on('click', function() {\n\t\t\tif(current>0 && current<5){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif( isAnimating ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tnextPage(1);\n\t\t\t$menu.addClass(\"cat-list-show\");\n\t\t});\n\n\t}\n\t\n\tfunction nextPage(options,type) {\n\t\tvar animation = (options.animation) ? options.animation : options;\n\t\tif( isAnimating ) {\n\t\t\treturn false;\n\t\t}\n\t\tisAnimating = true;\n\n\t\tvar $currPage = $pages.eq(current);\n\n\t\tif (type==1) {\n\t\t\tcurrent = 0;\n\t\t}else{\n\t\t\tif(currentMenu==0){\n\t\t\t\t++current;\n\t\t\t}else{\n\t\t\t\tcurrent=currentMenu;\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar $nextPage = $pages.eq( current ).addClass( 'pg-page-current' ),\n\t\t\toutClass = '', inClass = '';\n\t\tswitch( animation ) {\n\t\t\tcase 1:\n\t\t\t\toutClass = 'pg-page-moveToTop';\n\t\t\t\tinClass = 'pg-page-moveFromBottom';\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\toutClass = 'pg-page-moveToBottom';\n\t\t\t\tinClass = 'pg-page-moveFromTop';\n\t\t\t\tbreak;\n\t\t}\n\t\t$currPage.addClass( outClass ).on( animEndEventName, function() {\n\t\t\t$currPage.off( animEndEventName );\n\t\t\tendCurrPage = true;\n\t\t\tif( endNextPage ) {\n\t\t\t\tonEndAnimation( $currPage, $nextPage );\n\t\t\t}\n\t\t} );\n\n\t\t$nextPage.addClass( inClass ).on( animEndEventName, function() {\n\t\t\t$nextPage.off( animEndEventName );\n\t\t\tendNextPage = true;\n\t\t\tif( endCurrPage ) {\n\t\t\t\tonEndAnimation( $currPage, $nextPage );\n\t\t\t}\n\t\t} );\n\n\t\tif( !support ) {\n\t\t\tonEndAnimation( $currPage, $nextPage );\n\t\t}\n\n\t}\n\n\tfunction onEndAnimation( $outpage, $inpage ) {\n\t\tendCurrPage = false;\n\t\tendNextPage = false;\n\t\tresetPage( $outpage, $inpage );\n\t\tisAnimating = false;\n\t}\n\n\tfunction resetPage( $outpage, $inpage ) {\n\t\t$outpage.attr( 'class', $outpage.data( 'originalClassList' ) );\n\t\t$inpage.attr( 'class', $inpage.data( 'originalClassList' ) + ' pg-page-current' );\n\t}\n\n\tinit();\n\n\treturn { \n\t\tinit : init,\n\t\tnextPage : nextPage,\n\t};\n\n})();"]}