console.log("'Allo 'Allo!");var PageTransitions=function(){function a(){f.each(function(){var a=$(this);a.data("originalClassList",a.attr("class"))}),f.eq(k).addClass("pg-page-current"),h.on("click",function(){return console.log("menu: "+m),m?!1:(l=$(this).index()+1,l==k?!1:void b(k>l?2:1))}),j.on("click",function(){return 0==k?!1:m?!1:(b(2,1),void g.removeClass("cat-list-show"))}),i.on("click",function(){return k>0&&5>k?!1:m?!1:(b(1),void g.addClass("cat-list-show"))})}function b(a,b){var d=a.animation?a.animation:a;if(m)return!1;m=!0;var e=f.eq(k);1==b?k=0:0==l?++k:k=l;var g=f.eq(k).addClass("pg-page-current"),h="",i="";switch(d){case 1:h="pg-page-moveToTop",i="pg-page-moveFromBottom";break;case 2:h="pg-page-moveToBottom",i="pg-page-moveFromTop"}e.addClass(h).on(q,function(){e.off(q),n=!0,o&&c(e,g)}),g.addClass(i).on(q,function(){g.off(q),o=!0,n&&c(e,g)}),r||c(e,g)}function c(a,b){n=!1,o=!1,d(a,b),m=!1}function d(a,b){a.attr("class",a.data("originalClassList")),b.attr("class",b.data("originalClassList")+" pg-page-current")}var e=$("#container"),f=e.children("article.pg-page"),g=$("#cat-list-items"),h=$("#cat-list-items > li"),i=$("#icon-comprar, #btn-comprar"),j=$("#home"),k=(f.length,0),l=0,m=!1,n=!1,o=!1,p={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},q=p[Modernizr.prefixed("animation")],r=Modernizr.cssanimations;return a(),{init:a,nextPage:b}}(),app=angular.module("app",["ngResource"]);app.controller("appCtrl",["$scope","dataResource",function(a,b){var c=a;c.arrayCompras=[],c.arrayItems=[],c.totalPagar=0,c.classRemove="",c.amount=1,c.addItem=function(a,b){var d=!1;angular.forEach(c.arrayCompras,function(e){e.id==a.id&&(c.totalPagar+=Number((b*a.price).toFixed(2)),e.amount=e.amount+Number(b),d=!0)}),d||(c.totalPagar+=Number((a.amount*a.price).toFixed(2)),c.arrayCompras.push(a))},c.updateTotal=function(){console.log("upd"),c.totalPagar=0,angular.forEach(c.arrayCompras,function(a){c.totalPagar+=Number((a.amount*a.price).toFixed(2))})},c.removeItem=function(a,b){a.delitem=!0,c.arrayCompras.splice(b,1),c.totalPagar=c.totalPagar-Number((a.amount*a.price).toFixed(2)),c.items-=1},c.listItems=function(){c.arrayItems=b.get()},c.listItems()}]),app.factory("dataResource",function(a){return a("/data/data.json",{},{get:{method:"GET",isArray:!0}})});